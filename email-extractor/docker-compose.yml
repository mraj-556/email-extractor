version: '3.8'

services:
  extractor:
    build: .
    volumes:
      # Mount the parent directory to /data so we can access inputs and write outputs relative to it
      - ../:/data
      # Mount the current directory code to /app for development
      - ./:/app
    environment:
      - GROQ_API_KEY=${GROQ_API_KEY}
    working_dir: /app
    command: /bin/bash -c "python extract.py && python evaluate.py"
